{% extends 'gamestore/base.html' %}

{% block body %}
    <h4>Registration</h4>
    <form method="post" class="col-lg-3 pt-3">
        {% csrf_token %}
        {% if error is not None %}
            <p class="text-danger">{{ error }}</p>
        {% endif %}
        <div class="form-outline mb-4">
            <input type="text" id="username" name="username"
                   class="form-control {% if error is not None %} is-invalid {% endif %}" required/>
            <label class="form-label" for="username">Username</label>
        </div>
        <div class="form-outline mb-4">
            <input type="password" id="password" name="password"
                   class="form-control" required/>
            <label class="form-label" for="password">Password</label>
        </div>
        <div class="form-outline mb-4">
            <input type="password" id="passwordCheck"
                   class="form-control" required/>
            <label class="form-label" for="passwordCheck">Confirm password</label>
        </div>
        <button type="submit" class="btn btn-primary btn-block" id="submit">Register</button>
    </form>
    <script>
        password = document.getElementById("password");
        passwordCheck = document.getElementById("passwordCheck");

        passwordCheck.onkeyup = () => {
            if (password.value !== passwordCheck.value) {
                passwordCheck.setCustomValidity("Passwords do not match");
                console.log(password.value + " " + passwordCheck.value)
            } else {
                passwordCheck.setCustomValidity('');
            }
        }

    </script>
{% endblock %}